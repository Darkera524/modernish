#! /usr/bin/env modernish
use catchfail

grep() {
        catchfail 'test $status -lt 2' grep "$@"
}

echo abcde | grep bcd
if so; then echo "test 1 found, GOOD"; fi
echo abcde | grep xyz
if not; then echo "test 2 not found, GOOD"; fi
echo abcde | grep --invalid-option xyz
if not; then echo "test 3 didn't produce system error, BAD"; fi
echo "we should never make it to here, BAD"

